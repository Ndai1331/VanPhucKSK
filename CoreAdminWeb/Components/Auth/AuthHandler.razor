@using CoreAdminWeb.Services.Http
@inject NavigationManager NavigationManager
@inject IHttpClientService HttpClientService
@implements IDisposable

@code {
    protected override void OnInitialized()
    {
        HttpClientService.OnLogoutRequired += HandleLogoutRequired;
    }

    private void HandleLogoutRequired(object? sender, EventArgs e)
    {
        NavigationManager.NavigateTo("/signin", true);
    }

    public void Dispose()
    {
        HttpClientService.OnLogoutRequired -= HandleLogoutRequired;
    }
} 